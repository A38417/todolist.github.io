(function(t){function e(e){for(var o,n,l=e[0],r=e[1],c=e[2],u=0,h=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&h.push(a[n][0]),a[n]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],o=!0,l=1;l<i.length;l++){var r=i[l];0!==a[r]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=i[0]))}return t}var o={},a={app:0},s=[];function n(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/todolist.github.io/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0ead":function(t,e,i){"use strict";i("f419")},"12b8":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);var o=i("2b0e"),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Test")],1)},s=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[t._m(0),e("div",{staticClass:"head"},[e("div",{staticClass:"Addnew"},[e("div",{staticClass:"form-add"},[e("div",{staticStyle:{"margin-left":"10px"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-footer",modifiers:{"sidebar-footer":!0}}]},[e("b-icon",{attrs:{icon:"list"}})],1),e("b-sidebar",{attrs:{id:"sidebar-footer","backdrop-variant":"dark",backdrop:"","aria-label":"Sidebar with custom footer","no-header":"",shadow:""},scopedSlots:t._u([{key:"footer",fn:function({hide:i}){return[e("div",{staticClass:"d-flex bg-dark text-light align-items-center px-3 py-2"},[e("strong",{staticClass:"mr-auto"}),e("b-button",{attrs:{size:"sm"},on:{click:i}},[t._v("Close")])],1)]}}])},[e("div",{staticClass:"px-3 py-2"},[e("div",[e("b-list-group",{staticStyle:{"max-width":"300px"}},t._l(t.listMusic,(function(i,o){return e("b-list-group-item",{key:o,staticStyle:{"text-align":"center"}},[e("b-embed",{attrs:{type:"iframe",aspect:"4by3",src:i.link,allowfullscreen:"",allow:"autoplay"}}),e("b-icon",{staticStyle:{cursor:"pointer",width:"20px",height:"20px","margin-top":"10px"},attrs:{icon:"x-circle"},on:{click:function(e){return t.deleteVideo(o)}}})],1)})),1),e("div",[e("div",{staticStyle:{"text-align":"center","margin-top":"20px",cursor:"pointer"}},[e("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticStyle:{width:"25px",height:"25px"},attrs:{icon:"plus-lg"}})],1),e("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Điển link video vào đây"},on:{show:t.resetModal,hidden:t.resetModal,ok:t.handleOk}},[e("b-input",{model:{value:t.music,callback:function(e){t.music=e},expression:"music"}})],1)],1)],1)])])],1),e("div",{staticStyle:{display:"flex",flex:"1","justify-content":"center"}},[e("b-input",{staticClass:"input",staticStyle:{"border-radius":"10px"},attrs:{type:"text",placeholder:"Nội dung cần thêm mới"},on:{keypress:t.handleEnter},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),e("b-button",{staticStyle:{"margin-left":"10px",border:"none","border-radius":"10px"},on:{click:t.handleClick}},[t._v("Thêm")])],1),e("div",[e("b-form-datepicker",{staticClass:"datepicker",model:{value:t.valueDate,callback:function(e){t.valueDate=e},expression:"valueDate"}})],1)])])]),e("div",{staticStyle:{flex:"1",overflow:"auto","padding-bottom":"70px","padding-top":"11px"},style:`background-image: url(${t.VUE_APP_URL_IMAGE}aaa.jpg); background-size: contain; background-repeat: round;`},[e("div",{staticStyle:{width:"100%",height:"100%","align-items":"center",display:"flex","flex-direction":"column",overflow:"auto"}},[t._l(t.list,(function(i,o){return e("div",{key:o,staticStyle:{width:"100%",padding:"0 20px"}},[e("div",{staticClass:"to-do animate__animated animate__fadeIn",attrs:{id:"to-do"+i.id}},[e("div",[e("b-checkbox",{staticClass:"custom-checkbox",on:{change:function(e){return t.handleChange(e,i)}},model:{value:i.checked,callback:function(e){t.$set(i,"checked",e)},expression:"item.checked"}})],1),e("div",{staticStyle:{"background-color":"white",color:"black",border:"5px solid pink",width:"800px","justify-content":"center","align-items":"center",display:"flex","border-radius":"10px","font-size":"18px"},style:i.checked?"text-decoration-line: line-through;":""},[e("p",{staticStyle:{"word-break":"break-word",margin:"5px"}},[t._v(" "+t._s(i.text)+" ")])]),e("div",{staticStyle:{color:"red","font-size":"30px",cursor:"pointer"},on:{click:function(e){return t.close(i)}}},[t._v(" ✕ ")]),e("div",{staticStyle:{color:"white","font-size":"30px",cursor:"pointer"},on:{click:function(e){return t.edit(i,o)}}},[t._v(" ✍ ")])])])})),e("div",{staticClass:"weather"},[e("p",[t._v(" "+t._s(t.location)+" - "+t._s(t.temperature)+"°C ")]),e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("b-img",{attrs:{src:t.iconWeather,height:"50"}}),e("p",[t._v(t._s(t.description))])],1)]),e("div",{staticClass:"delete-all"},[e("b-button",{attrs:{variant:"danger"},on:{click:t.deleteAll}},[e("i",{staticClass:"fa fa-trash-o"})])],1)],2)]),e("transition",{attrs:{name:"fade",appear:""}},[t.open?e("div",{staticClass:"modal-overlay",on:{click:t.closeModal}}):t._e()]),e("transition",{attrs:{name:"pop",appear:""}},[t.open?e("div",{staticClass:"modal-edit",attrs:{role:"dialog"}},[e("div",{staticClass:"modal-content-edit"},[e("div",{staticClass:"title-edit"},[e("h3",[t._v(" Edit something ")]),e("span",{staticClass:"close",on:{click:t.closeModal}},[t._v("×")])]),e("div",{staticClass:"content-edit"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.valueEdit,expression:"valueEdit"}],staticStyle:{width:"100%",height:"44px"},attrs:{type:"text"},domProps:{value:t.valueEdit},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm.apply(null,arguments)},input:function(e){e.target.composing||(t.valueEdit=e.target.value)}}})]),e("button",{staticStyle:{"margin-top":"20px",width:"100px",height:"50px","font-size":"15px","background-color":"pink",border:"3px solid black","border-radius":"10px"},on:{click:t.confirm}},[t._v(" Confirm ")])])]):t._e()]),t.loading?e("b-spinner",{staticStyle:{width:"3rem",height:"3rem",position:"absolute","margin-left":"auto","margin-right":"auto","margin-top":"auto","margin-bottom":"auto",left:"0",right:"0",top:"0",bottom:"0","text-align":"center"},attrs:{variant:"primary",label:"Large Spinner"}}):t._e()],1)},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"titleH1"},[e("div",{staticClass:"textH1"},[t._v(" Những công việc cần làm ")])])}],r=(i("14d9"),i("cee4")),c={name:"Test",data(){return{loading:!1,iconWeather:"",latitude:null,longitude:null,location:"",temperature:"",description:"",apiKey:"107366de8694bee4059472c80bc55101",open:!1,value:"",indexEdit:"",valueEdit:"",valueDate:(new Date).toISOString().substring(0,10),music:"",VUE_APP_URL_IMAGE:"https://raw.githubusercontent.com/A38417/todolist.github.io/gh-pages/image/",list:[],listMusic:[{link:"https://www.youtube.com/embed/wCx-Kf5GUxE"}]}},created(){JSON.parse(localStorage.getItem("musicList"))&&(this.listMusic=JSON.parse(localStorage.getItem("musicList"))),navigator.geolocation?navigator.permissions.query({name:"geolocation"}).then(t=>{"granted"===t.state||"prompt"===t.state?navigator.geolocation.getCurrentPosition(this.getLocation):console.log("Geolocation permission denied.")}):console.log("Geolocation is not supported by this browser."),this.getItems()},watch:{list:{deep:!0,handler(){}},listMusic:{deep:!0,handler(){localStorage.setItem("musicList",JSON.stringify(this.listMusic))}},valueDate:{handler(){}}},methods:{showPosition(t){this.latitude=t.coords.latitude,this.longitude=t.coords.longitude},handleClick(){this.value&&!1===this.loading&&this.addItem()},addItem(){this.loading=!0,r["a"].post("https://todolist-b44a0-default-rtdb.firebaseio.com/todolist.json",{checked:!1,text:this.value}).then(()=>{this.value="",this.getItems()}).catch(t=>{this.loading=!1,console.error(t)})},handleEnter(t){13!==t.keyCode&&"Enter"!==t.key||this.handleClick()},close(t){this.deleteItem(t.id)},deleteAll(){r["a"].delete("https://todolist-b44a0-default-rtdb.firebaseio.com/todolist.json").then(()=>{this.list=[],this.$bvToast.toast("Xoá tất cả công việc thành công",{title:"Thông báo",variant:"success",solid:!0,autoHideDelay:1e3})}).catch(t=>{console.error(t),this.$bvToast.toast("Xoá thất bại",{title:"Thông báo",variant:"danger",solid:!0,autoHideDelay:1e3})})},handleChange(t,e){this.loading=!0,r["a"].put(`https://todolist-b44a0-default-rtdb.firebaseio.com/todolist/${e.id}.json`,{checked:t,text:e.text}).then(()=>{this.loading=!1;const e=t?"Công việc đã hoàn thành":"Công việc chưa hoàn thành",i=t?"success":"warning";this.$bvToast.toast(e,{title:"Thông báo",variant:i,solid:!0,autoHideDelay:1e3})}).catch(i=>{this.loading=!1,console.error(i),e.checked=!t})},edit(t,e){this.open=!0,this.valueEdit=t.text,this.indexEdit=e},closeModal(){this.open=!1},confirm(){this.updateItem(this.list[this.indexEdit])},resetModal(){this.name="",this.nameState=null},handleOk(t){t.preventDefault(),this.handleSubmit()},handleSubmit(){if(!this.music)return alert("Vui lòng nhập link nhạc");this.listMusic.push({link:this.music.replace("youtu.be","youtube.com/embed").replace("watch?v=","embed/")}),this.music="",this.$nextTick(()=>{this.$refs["modal"].hide()})},deleteVideo(t){this.listMusic.splice(t,1)},async getLocation(t){const{latitude:e,longitude:i}=t.coords,o=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${i}&appid=${this.apiKey}&units=metric`,a=await r["a"].get(o);this.location=a.data.name,this.temperature=a.data.main.temp,this.description=a.data.weather[0].description,this.iconWeather=`http://openweathermap.org/img/wn/${a.data.weather[0].icon}@2x.png`},getItems(){this.loading=!0,r["a"].get("https://todolist-b44a0-default-rtdb.firebaseio.com/todolist.json").then(t=>{this.list=Object.keys(t.data).map(e=>({id:e,checked:t.data[e].checked,text:t.data[e].text})),this.loading=!1}).catch(t=>{console.error(t),this.loading=!1})},deleteItem(t){const e=document.getElementById("to-do"+t);e.className+=" animate__fadeOut",this.loading=!0,r["a"].delete(`https://todolist-b44a0-default-rtdb.firebaseio.com/todolist/${t}.json`).then(()=>{e.className=e.className.replace(" animate__fadeOut",""),this.list=this.list.filter(e=>e.id!==t),this.loading=!1,this.$bvToast.toast("Xoá thành công",{title:"Thông báo",variant:"success",solid:!0,autoHideDelay:1e3})}).catch(t=>{console.error(t),this.loading=!1,this.$bvToast.toast("Xoá thất bại",{title:"Thông báo",variant:"danger",solid:!0,autoHideDelay:1e3})})},updateItem(t){r["a"].put(`https://todolist-b44a0-default-rtdb.firebaseio.com/todolist/${t.id}.json`,{checked:t.checked,text:this.valueEdit}).then(()=>{this.closeModal(),this.getItems(),this.$bvToast.toast("Cập nhật thành công",{title:"Thông báo",variant:"success",solid:!0,autoHideDelay:1e3})}).catch(t=>{console.error(t),this.$bvToast.toast("Cập nhật thất bại",{title:"Thông báo",variant:"danger",solid:!0,autoHideDelay:1e3})})}}},d=c,u=(i("0ead"),i("2877")),h=Object(u["a"])(d,n,l,!1,null,null,null),p=h.exports,g={name:"App",components:{Test:p}},m=g,b=(i("7124"),Object(u["a"])(m,a,s,!1,null,null,null)),f=b.exports,v=i("5f5b"),y=i("b1e0"),x=(i("f9e3"),i("2dd8"),i("9483"));Object(x["a"])("/todolist.github.io/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),o["default"].use(v["a"]),o["default"].use(y["a"]),o["default"].config.productionTip=!1,new o["default"]({render:t=>t(f)}).$mount("#app")},7124:function(t,e,i){"use strict";i("12b8")},f419:function(t,e,i){}});
//# sourceMappingURL=app.526effdb.js.map